

































<title>Percona Monitoring and Management &mdash; Setting up a development environment for DBaaS</title>

<head>
    


    
<script src="../../js/version-select.js" type="text/javascript"></script>

<script src="../../js/toctree.js" type="text/javascript"></script>


    <link rel="top" title="" href="" />
    
    
</head>

<body>
	<!-- 2021-01-22 12:39:32.016276+00:00 -->
    
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="../../css/version-select.css" type="text/css">
<link rel="stylesheet" href="../../css/toctree.css" type="text/css">

    
<script src="../../js/version-select.js" type="text/javascript"></script>

<script src="../../js/toctree.js" type="text/javascript"></script>


    <div class="container">
        <div class="document row">
            <div class="documentwrapper col-md-9 col-md-push-3">
                
<div class="related row">
    <ul class="nav nav-pills">
        
        
        <li>
            <a href="">Home</a>
        </li>
    </ul>
</div>

                

<div class="small">
    <ul class="list-inline">
        <li class="left">
            <a href="https://github.com/percona/pmm-doc/issues/new?title=PMM2: doc issue on page  'Setting up a development environment for DBaaS' (setting-up/server/dbaas.html)&body=Please describe the issue here"
                target="_blank" title="Report an issue with this page on GitHub"><i class="uil uil-exclamation-triangle"></i> Report a problem with this page</a>
        </li>
        <li class="pull-right">
            <a href="https://github.com/percona/pmm-doc/edit/main/docs/setting-up/server/dbaas.md" target="_blank" title="Edit this page on GitHub in Markdown format"><i class="uil uil-pen"></i> Edit this page</a>
        </li>
    </ul>
</div>


                <div class="bodywrapper">
                    <div class="body">
                        <h1>Setting up a development environment for DBaaS</h1>
<div class="admonition alert alert-warning">
<p class="admonition-title">Caution</p>
<p>DBaaS functionality is Alpha. The information on this page is subject to change and may be inaccurate.</p>
</div>
<hr />
<div class="toc">
<ul>
<li><a href="#software-prerequisites">Software prerequisites</a><ul>
<li><a href="#docker">Docker</a></li>
<li><a href="#minikube">minikube</a></li>
</ul>
</li>
<li><a href="#start-pmm-server-with-dbaas-activated">Start PMM server with DBaaS activated</a></li>
<li><a href="#install-percona-operators-in-minikube">Install Percona operators in minikube</a></li>
<li><a href="#installing-percona-operators-in-aws-eks-kubernetes">Installing Percona operators in AWS EKS (Kubernetes)</a></li>
<li><a href="#install-operators-on-gke">Install Operators on GKE</a></li>
<li><a href="#deleting-clusters">Deleting clusters</a></li>
<li><a href="#run-pmm-server-as-a-docker-container-for-dbaas">Run PMM Server as a Docker container for DBaaS</a></li>
<li><a href="#exposing-psmdb-and-xtradb-clusters-for-access-by-external-clients">Exposing PSMDB and XtraDB clusters for access by external clients</a></li>
</ul>
</div>
<hr />
<h2 id="software-prerequisites"><a class="toclink" href="#software-prerequisites">Software prerequisites</a></h2>
<h3 id="docker"><a class="toclink" href="#docker">Docker</a></h3>
<p><strong>Red Hat, CentOS</strong></p>
<div class="highlight"><pre><span></span><code>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
yum -y install docker-ce
usermod -a -G docker centos
systemctl <span class="nb">enable</span> docker
systemctl start docker
</code></pre></div>
<p><strong>Debian, Ubuntu</strong></p>
<div class="highlight"><pre><span></span><code>apt-add-repository https://download.docker.com/linux/centos/docker-ce.repo
systemctl <span class="nb">enable</span> docker
systemctl start docker
</code></pre></div>
<h3 id="minikube"><a class="toclink" href="#minikube">minikube</a></h3>
<p><strong>Red Hat, CentOS</strong></p>
<div class="highlight"><pre><span></span><code>yum -y install curl
curl -Lo /usr/local/sbin/minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
chmod +x /usr/local/sbin/minikube
ln -s /usr/local/sbin/minikube /usr/sbin/minikube
<span class="nb">alias</span> <span class="nv">kubectl</span><span class="o">=</span><span class="s1">&#39;minikube kubectl --&#39;</span>
</code></pre></div>
<h2 id="start-pmm-server-with-dbaas-activated"><a class="toclink" href="#start-pmm-server-with-dbaas-activated">Start PMM server with DBaaS activated</a></h2>
<div class="admonition alert alert-info">
<p class="admonition-title">Notes</p>
<ul>
<li>To start a fully-working 3 node XtraDB cluster, consisting of sets of 3x ProxySQL, 3x PXC and 6x PMM Client containers, you will need at least 9 vCPU available for minikube. (1x vCPU for ProxySQL and PXC and 0.5vCPU for each pmm-client containers).</li>
<li>DBaaS does not depend on PMM Client.</li>
<li>Setting the environment variable <code>PERCONA_TEST_DBAAS=1</code> enables DBaaS functionality.</li>
<li>Add the option <code>--network minikube</code> if you run PMM Server and minikube in the same Docker instance. (This will share a single network and the kubeconfig will work.)</li>
<li>Add the options <code>--env PMM_DEBUG=1</code> and/or <code>--env PMM_TRACE=1</code> if you need extended debug details</li>
</ul>
</div>
<ol>
<li>
<p>Start PMM server:</p>
<div class="highlight"><pre><span></span><code>docker run --detach --publish <span class="m">80</span>:80 --publish <span class="m">443</span>:443 --name pmm-server --env <span class="nv">PERCONA_TEST_DBAAS</span><span class="o">=</span><span class="m">1</span> percona/pmm-server:2
</code></pre></div>
</li>
<li>
<p>Change the default administrator credentials from CLI:</p>
<p>(This step is optional, because the same can be done from the web interface of PMM on first login.)</p>
<div class="highlight"><pre><span></span><code>docker <span class="nb">exec</span> -t pmm-server bash -c <span class="s1">&#39;ln -s /srv/grafana /usr/share/grafana/data; chown -R grafana:grafana /usr/share/grafana/data; grafana-cli --homepath /usr/share/grafana admin reset-admin-password &lt;RANDOM_PASS_GOES_IN_HERE&gt;&#39;</span>
</code></pre></div>
</li>
</ol>
<h2 id="install-percona-operators-in-minikube"><a class="toclink" href="#install-percona-operators-in-minikube">Install Percona operators in minikube</a></h2>
<ol>
<li>
<p>Configure and start minikube:</p>
<div class="highlight"><pre><span></span><code>minikube config <span class="nb">set</span> cpus <span class="m">16</span>
minikube config <span class="nb">set</span> memory <span class="m">32768</span>
minikube config <span class="nb">set</span> kubernetes-version <span class="m">1</span>.16.15
minikube start
</code></pre></div>
</li>
<li>
<p>Deploy the Percona operators configuration for PXC and PSMDB in minikube:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Prepare a set of base64 encoded values and non encoded for user and pass with administrator privileges to pmm-server (DBaaS)</span>
<span class="nv">PMM_USER</span><span class="o">=</span><span class="s1">&#39;admin&#39;</span><span class="p">;</span>
<span class="nv">PMM_PASS</span><span class="o">=</span><span class="s1">&#39;&lt;RANDOM_PASS_GOES_IN_HERE&gt;&#39;</span><span class="p">;</span>

<span class="nv">PMM_USER_B64</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PMM_USER</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">PMM_PASS_B64</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1"># Install the PXC operator</span>
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-xtradb-cluster-operator/pmm-branch/deploy/bundle.yaml <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-xtradb-cluster-operator/pmm-branch/deploy/secrets.yaml <span class="se">\</span>
<span class="p">|</span> sed <span class="s2">&quot;s/pmmserver:.*=/pmmserver: </span><span class="si">${</span><span class="nv">PMM_PASS_B64</span><span class="si">}</span><span class="s2">/g&quot;</span> <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -

<span class="c1"># Install the PSMDB operator</span>
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/v1.6.0/deploy/bundle.yaml <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/v1.6.0/deploy/secrets.yaml <span class="se">\</span>
<span class="p">|</span> sed <span class="s2">&quot;s/PMM_SERVER_USER:.*</span>$<span class="s2">/PMM_SERVER_USER: </span><span class="si">${</span><span class="nv">PMM_USER</span><span class="si">}</span><span class="s2">/g;s/PMM_SERVER_PASSWORD:.*</span>$<span class="s2">/PMM_SERVER_PASSWORD: </span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">/g;&quot;</span> <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -
</code></pre></div>
</li>
<li>
<p>Check the operators are deployed:</p>
<div class="highlight"><pre><span></span><code>minikube kubectl -- get nodes
minikube kubectl -- get pods
minikube kubectl -- <span class="nb">wait</span> --for<span class="o">=</span><span class="nv">condition</span><span class="o">=</span>Available deployment percona-xtradb-cluster-operator
minikube kubectl -- <span class="nb">wait</span> --for<span class="o">=</span><span class="nv">condition</span><span class="o">=</span>Available deployment percona-server-mongodb-operator
</code></pre></div>
</li>
<li>
<p>Get your kubeconfig details from minikube (to register your Kubernetes cluster with PMM Server):</p>
</li>
</ol>
<div class="admonition alert alert-info">
<p class="admonition-title">Note</p>
<p>You will need to copy this output to your clipboard and continue with <a href="../../using/platform/dbaas.html#add-a-kubernetes-cluster">add a Kubernetes cluster to PMM</a>.</p>
</div>
<h2 id="installing-percona-operators-in-aws-eks-kubernetes"><a class="toclink" href="#installing-percona-operators-in-aws-eks-kubernetes">Installing Percona operators in AWS EKS (Kubernetes)</a></h2>
<ol>
<li>
<p>Create your cluster via <code>eksctl</code> or the Amazon AWS interface. For example:</p>
<div class="highlight"><pre><span></span><code>eksctl create cluster --write-kubeconfig --name<span class="o">=</span>your-cluster-name --zones<span class="o">=</span>us-west-2a,us-west-2b --kubeconfig &lt;PATH_TO_KUBECONFIG&gt;
</code></pre></div>
</li>
<li>
<p>When your EKS cluster is running, install the PXC and PSMDB operators:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Prepare a set of base64 encoded values and non encoded for user and pass with administrator privileges to pmm-server (DBaaS)</span>
<span class="nv">PMM_USER</span><span class="o">=</span><span class="s1">&#39;admin&#39;</span><span class="p">;</span>
<span class="nv">PMM_PASS</span><span class="o">=</span><span class="s1">&#39;&lt;RANDOM_PASS_GOES_IN_HERE&gt;&#39;</span><span class="p">;</span>

<span class="nv">PMM_USER_B64</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PMM_USER</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">PMM_PASS_B64</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="c1"># Install the PXC operator</span>
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-xtradb-cluster-operator/pmm-branch/deploy/bundle.yaml <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-xtradb-cluster-operator/pmm-branch/deploy/secrets.yaml <span class="se">\</span>
<span class="p">|</span> sed <span class="s2">&quot;s/pmmserver:.*=/pmmserver: </span><span class="si">${</span><span class="nv">PMM_PASS_B64</span><span class="si">}</span><span class="s2">/g&quot;</span> <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -

<span class="c1"># Install the PSMDB operator</span>
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/v1.6.0/deploy/bundle.yaml <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -
curl -sSf -m <span class="m">30</span> https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/v1.6.0/deploy/secrets.yaml <span class="se">\</span>
<span class="p">|</span> sed <span class="s2">&quot;s/PMM_SERVER_USER:.*</span>$<span class="s2">/PMM_SERVER_USER: </span><span class="si">${</span><span class="nv">PMM_USER</span><span class="si">}</span><span class="s2">/g;s/PMM_SERVER_PASSWORD:.*</span>$<span class="s2">/PMM_SERVER_PASSWORD: </span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">/g;&quot;</span> <span class="se">\</span>
<span class="p">|</span> kubectl apply -f -
</code></pre></div>
<div class="highlight"><pre><span></span><code># Validate that the operators are running
kubectl get pods
</code></pre></div>
</li>
<li>
<p>Modify your kubeconfig file, if it&rsquo;s not utilizing the <code>aws-iam-authenticator</code> or <code>client-certificate</code> method for authentication with Kubernetes. Here are two examples that you can use as templates to modify a copy of your existing kubeconfig:</p>
<ul>
<li>
<p>For the <code>aws-iam-authenticator</code> method:</p>
<div class="highlight"><pre><span></span><code>---
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: &lt;&lt; CERT_AUTH_DATA &gt;&gt;
    server: &lt;&lt; K8S_CLUSTER_URL &gt;&gt;
  name: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
contexts:
- context:
    cluster: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
    user: &lt;&lt; K8S_CLUSTER_USER &gt;&gt;
  name: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
current-context: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
kind: Config
preferences: {}
users:
- name: &lt;&lt; K8S_CLUSTER_USER &gt;&gt;
  user:
    exec:
      apiVersion: client.authentication.k8s.io/v1alpha1
      command: aws-iam-authenticator
      args:
        - &quot;token&quot;
        - &quot;-i&quot;
        - &quot;&lt;&lt; K8S_CLUSTER_NAME &gt;&gt;&quot;
        - --region
        - &lt;&lt; AWS_REGION &gt;&gt;
      env:
         - name: AWS_ACCESS_KEY_ID
           value: &quot;&lt;&lt; AWS_ACCESS_KEY_ID &gt;&gt;&quot;
         - name: AWS_SECRET_ACCESS_KEY
           value: &quot;&lt;&lt; AWS_SECRET_ACCESS_KEY &gt;&gt;&quot;
</code></pre></div>
</li>
<li>
<p>For the <code>client-certificate</code> method:</p>
<div class="highlight"><pre><span></span><code>---
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: &lt;&lt; CERT_AUTH_DATA &gt;&gt;
    server: &lt;&lt; K8S_CLUSTER_URL &gt;&gt;
  name: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
contexts:
- context:
    cluster: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
    user: &lt;&lt; K8S_CLUSTER_USER &gt;&gt;
  name: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
current-context: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
kind: Config
preferences: {}
users:
- name: &lt;&lt; K8S_CLUSTER_NAME &gt;&gt;
  user:
    client-certificate-data: &lt;&lt; CLIENT_CERT_DATA &gt;&gt;
    client-key-data: &lt;&lt; CLIENT_KEY_DATA &gt;&gt;
</code></pre></div>
</li>
</ul>
</li>
<li>
<p>Follow the instructions for <a href="../../using/platform/dbaas.html#add-a-kubernetes-cluster">Add a Kubernetes cluster</a>.</p>
</li>
</ol>
<div class="admonition alert alert-info">
<p class="admonition-title">Note</p>
<p>If possible, the connection details will show the cluster&rsquo;s external IP (not possible with minikube).</p>
</div>
<h2 id="install-operators-on-gke"><a class="toclink" href="#install-operators-on-gke">Install Operators on GKE</a></h2>
<div class="admonition alert alert-warning">
<p class="admonition-title">Caution</p>
<p>These instructions are still in development.</p>
</div>
<p><strong>Prerequisites</strong></p>
<p>You should have an account on GCP <a href="https://cloud.google.com/">https://cloud.google.com/</a>.</p>
<ol>
<li>
<p>Login into google cloud platform console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a></p>
</li>
<li>
<p>Navigate to Menu &rarr; Kubernetes Engine &rarr; Clusters</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_1.png" /></p>
</li>
<li>
<p>Click button Create cluster</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_2.png" /></p>
</li>
<li>
<p>You can specify cluster option in form or simply click on “My first cluster” and button Create</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_3.png" /></p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_4.png" /></p>
</li>
<li>
<p>Wait until cluster created</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_5.png" /></p>
</li>
<li>
<p>Click on button Connect in a the cluster’s row</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_6.png" /></p>
</li>
<li>
<p>Click button Run in Cloud shell</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_7.png" /></p>
</li>
<li>
<p>Click Authorize</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_8.png" /></p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_9.png" /></p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_10.png" /></p>
</li>
<li>
<p>Set up PXC and PSMDB operators:</p>
<div class="highlight"><pre><span></span><code>curl -sSf -m 30 https://raw.githubusercontent.com/percona/percona-xtradb-cluster-operator/pmm-branch/deploy/bundle.yaml  | kubectl apply -f -
curl -sSf -m 30 https://raw.githubusercontent.com/percona/percona-xtradb-cluster-operator/pmm-branch/deploy/secrets.yaml | kubectl apply -f -
curl -sSf -m 30 https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/pmm-branch/deploy/bundle.yaml  | kubectl apply -f -
curl -sSf -m 30 https://raw.githubusercontent.com/percona/percona-server-mongodb-operator/pmm-branch/deploy/secrets.yaml | kubectl apply -f -
</code></pre></div>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_11.png" /></p>
</li>
<li>
<p>Check if it was set up successfully</p>
<div class="highlight"><pre><span></span><code>kubectl api-resources --api-group=&#39;psmdb.percona.com&#39;
kubectl api-resources --api-group=&#39;pxc.percona.com&#39;
</code></pre></div>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_12.png" /></p>
</li>
<li>
<p>Check versions</p>
<div class="highlight"><pre><span></span><code>kubectl api-versions | grep percona.com
</code></pre></div>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_13.png" /></p>
</li>
<li>
<p>Create Service Account, copy and store kubeconfig - output of the following command</p>
<div class="highlight"><pre><span></span><code>cat &lt;&lt;EOF | kubectl apply -f -
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: percona-dbaas-cluster-operator
---
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: service-account-percona-server-dbaas-xtradb-operator
subjects:
- kind: ServiceAccount
  name: percona-dbaas-cluster-operator
roleRef:
  kind: Role
  name: percona-xtradb-cluster-operator
  apiGroup: rbac.authorization.k8s.io
---
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: service-account-percona-server-dbaas-psmdb-operator
subjects:
- kind: ServiceAccount
  name: percona-dbaas-cluster-operator
roleRef:
  kind: Role
  name: percona-server-mongodb-operator
  apiGroup: rbac.authorization.k8s.io
EOF

name=`kubectl get serviceAccounts percona-dbaas-cluster-operator -o json | jq  -r .secrets[].name`
certificate=`kubectl get secret $name -o json | jq -r  &#39;.data.&quot;ca.crt&quot;&#39;`
token=`kubectl get secret $name -o json | jq -r  &#39;.data.token&#39; | base64 -d`
server=`kubectl cluster-info | grep &#39;Kubernetes master&#39; | cut -d &#39; &#39; -f 6`
</code></pre></div>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_14.png" /></p>
<div class="highlight"><pre><span></span><code>echo &quot;
apiVersion: v1
kind: Config
users:
- name: percona-dbaas-cluster-operator
  user:
    token: $token
clusters:
- cluster:
    certificate-authority-data: $certificate
    server: $server
  name: self-hosted-cluster
contexts:
- context:
    cluster: self-hosted-cluster
    user: percona-dbaas-cluster-operator
  name: svcs-acct-context
current-context: svcs-acct-context
&quot;
</code></pre></div>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_15.png" /></p>
</li>
<li>
<p>Start PMM Server on you local machine or other vm instance:</p>
<div class="highlight"><pre><span></span><code>docker run --detach --name pmm-server --publish 80:80 --publish 443:443 \
--env PERCONA_TEST_DBAAS=1 perconalab/pmm-server-fb:PR-1240-07bef94;
</code></pre></div>
</li>
<li>
<p>Login into PMM and navigate to DBaaS</p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_16.png" /></p>
</li>
<li>
<p>Register your GKE using kubeconfig from step 12.</p>
<div class="admonition alert alert-warning">
<p class="admonition-title">Important</p>
<p>Please make sure there are no stray new lines in the kubeconfig, especially in long lines like certificate or token.</p>
</div>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_17.png" /></p>
<p><img alt="" src="../../_images/PMM_DBaaS_GKE_18.png" /></p>
</li>
</ol>
<h2 id="deleting-clusters"><a class="toclink" href="#deleting-clusters">Deleting clusters</a></h2>
<p>You should delete all installation operators as the operators own resources.</p>
<p>If you only run <code>eksctl delete cluster</code> without cleaning up the cluster first, there will be a lot of orphaned resources as Cloud Formations, Load Balancers, EC2 instances, Network interfaces, etc.</p>
<p>In the <code>pmm-managed</code> repository, in the deploy directory there are 2 example bash scripts to install and delete the operators from the EKS cluster.</p>
<p>The install script:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">TOP_DIR</span><span class="o">=</span><span class="k">$(</span>git rev-parse --show-toplevel<span class="k">)</span>
<span class="nv">PMM_USER</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s1">&#39;admin&#39;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">PMM_PASS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s1">&#39;admin_password&#39;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">KUBECTL_CMD</span><span class="o">=</span><span class="s2">&quot;kubectl --kubeconfig </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.kube/config_eks&quot;</span>

<span class="c1"># Install the PXC operator</span>
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/pxc_operator.yaml <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> apply -f -
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/secrets.yaml <span class="p">|</span> sed <span class="s2">&quot;s/pmmserver:.*=/pmmserver: </span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">/g&quot;</span> <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> apply -f -

<span class="c1"># Install the PSMDB operator</span>
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/psmdb_operator.yaml <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> apply -f -
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/secrets.yaml <span class="p">|</span> sed <span class="s2">&quot;s/PMM_SERVER_USER:.*</span>$<span class="s2">/PMM_SERVER_USER: </span><span class="si">${</span><span class="nv">PMM_USER</span><span class="si">}</span><span class="s2">/g;s/PMM_SERVER_PASSWORD:.*=</span>$<span class="s2">/PMM_SERVER_PASSWORD: </span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">/g;&quot;</span> <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> apply -f -
</code></pre></div>
<p>The delete script:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">TOP_DIR</span><span class="o">=</span><span class="k">$(</span>git rev-parse --show-toplevel<span class="k">)</span>
<span class="nv">PMM_USER</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s1">&#39;admin&#39;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">PMM_PASS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s1">&#39;admin_password&#39;</span> <span class="p">|</span> base64<span class="k">)</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="nv">KUBECTL_CMD</span><span class="o">=</span><span class="s2">&quot;kubectl --kubeconfig </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.kube/config_eks&quot;</span>

<span class="c1"># Delete the PXC operator</span>
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/pxc_operator.yaml <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> delete -f -
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/secrets.yaml <span class="p">|</span> sed <span class="s2">&quot;s/pmmserver:.*=/pmmserver: </span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">/g&quot;</span> <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> delete -f -

<span class="c1"># Delete the PSMDB operator</span>
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/psmdb_operator.yaml <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> delete -f -
cat <span class="si">${</span><span class="nv">TOP_DIR</span><span class="si">}</span>/deploy/secrets.yaml <span class="p">|</span> sed <span class="s2">&quot;s/PMM_SERVER_USER:.*</span>$<span class="s2">/PMM_SERVER_USER: </span><span class="si">${</span><span class="nv">PMM_USER</span><span class="si">}</span><span class="s2">/g;s/PMM_SERVER_PASSWORD:.*=</span>$<span class="s2">/PMM_SERVER_PASSWORD: </span><span class="si">${</span><span class="nv">PMM_PASS</span><span class="si">}</span><span class="s2">/g;&quot;</span> <span class="p">|</span> <span class="si">${</span><span class="nv">KUBECTL_CMD</span><span class="si">}</span> delete -f -
</code></pre></div>
<p>(Both scripts are similar except the install script command is <code>apply</code> while in the delete script it is <code>delete</code>.)</p>
<p>After deleting everything in the EKS cluster, run this command (using your own configuration path) and wait until the output only shows service/kubernetes before deleting the cluster with the <code>eksclt delete</code> command.</p>
<div class="highlight"><pre><span></span><code>kubectl --kubeconfig ~/.kube/config_eks get all
</code></pre></div>
<p>Example output:</p>
<div class="highlight"><pre><span></span><code>NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.100.0.1   &lt;none&gt;        443/TCP   4d5h
</code></pre></div>
<p>If you don&rsquo;t need the cluster anymore, you can uninstall everything in it and destroy it:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Delete all volumes created by the operators:</span>
kubectl <span class="o">[</span>--kubeconfig &lt;config file&gt;<span class="o">]</span> delete pvc --all
<span class="c1"># Delete the cluster</span>
eksctl delete cluster --name<span class="o">=</span>your-cluster-name
</code></pre></div>
<h2 id="run-pmm-server-as-a-docker-container-for-dbaas"><a class="toclink" href="#run-pmm-server-as-a-docker-container-for-dbaas">Run PMM Server as a Docker container for DBaaS</a></h2>
<ol>
<li>
<p>Start PMM server from a feature branch:</p>
<div class="highlight"><pre><span></span><code>docker run --detach --name pmm-server --publish <span class="m">80</span>:80 --publish <span class="m">443</span>:443 --env <span class="nv">PERCONA_TEST_DBAAS</span><span class="o">=</span><span class="m">1</span>  percona/pmm-server:2<span class="p">;</span>
</code></pre></div>
<div class="admonition alert alert-warning">
<p class="admonition-title">Important</p>
<ul>
<li>Use <code>--network minikube</code> if running PMM Server and minikube in the same Docker instance. This way they will share single network and the kubeconfig will work.</li>
<li>Use Docker variables <code>--env PMM_DEBUG=1 --env PMM_TRACE=1</code> to see extended debug details.</li>
</ul>
</div>
</li>
<li>
<p>Change the default administrator credentials:</p>
<div class="admonition alert alert-info">
<p class="admonition-title">Note</p>
<p>This step is optional, because the same can be done from the web interface of PMM on the first login.</p>
</div>
<div class="highlight"><pre><span></span><code>docker <span class="nb">exec</span> -t pmm-server bash -c <span class="s1">&#39;ln -s /srv/grafana /usr/share/grafana/data; chown -R grafana:grafana /usr/share/grafana/data; grafana-cli --homepath /usr/share/grafana admin reset-admin-password &lt;RANDOM_PASS_GOES_IN_HERE&gt;&#39;</span>
</code></pre></div>
</li>
<li>
<p>Set the public address for PMM Server in PMM settings UI</p>
</li>
<li>
<p>Follow the steps for <a href="../../using/platform/dbaas.html#add-a-kubernetes-cluster">Add a Kubernetes cluster</a>.</p>
</li>
<li>
<p>Follow the steps for <a href="../../using/platform/dbaas.html#add-a-db-cluster">Add a DB Cluster</a>.</p>
</li>
<li>
<p>Get the IP address to connect your app/service:</p>
<div class="highlight"><pre><span></span><code>minikube kubectl get services
</code></pre></div>
</li>
</ol>
<h2 id="exposing-psmdb-and-xtradb-clusters-for-access-by-external-clients"><a class="toclink" href="#exposing-psmdb-and-xtradb-clusters-for-access-by-external-clients">Exposing PSMDB and XtraDB clusters for access by external clients</a></h2>
<p>To make services visible externally, you create a LoadBalancer service or manually run commands to expose ports:</p>
<div class="highlight"><pre><span></span><code>kubectl expose deployment hello-world --type<span class="o">=</span>NodePort.
</code></pre></div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul>
<li><a href="../../using/platform/dbaas.html">DBaaS Dashboard</a></li>
<li><a href="https://minikube.sigs.k8s.io/docs/start/">Install minikube</a></li>
<li><a href="https://medium.com/@chrisedrego/setting-up-a-standalone-mysql-instance-on-kubernetes-exposing-it-using-nginx-ingress-controller-262fc7af593a">Setting up a Standalone MYSQL Instance on Kubernetes &amp; exposing it using Nginx Ingress Controller</a></li>
<li><a href="https://kubernetes.io/docs/tasks/access-application-cluster/service-access-application-cluster/">Use a Service to Access an Application in a Cluster.</a></li>
<li><a href="https://cloud.google.com/kubernetes-engine/docs/how-to/exposing-apps">Exposing applications using services.</a></li>
</ul>
</div>
                    </div>
                </div>
                
<div class="small">
    <ul class="list-inline">
        
        <li class="left">
            <i class="uil uil-refresh"></i> Page updated 2021-01-20
        </li>
        
    </ul>
</div>

                
<div class="related row">
    <ul class="nav nav-pills">
        
        
        <li>
            <a href="">Home</a>
        </li>
    </ul>
</div>

            </div>
            
<div class="sphinxsidebar col-md-3 col-md-pull-9">
    <div class="sphinxsidebarwrapper">
        {@ product_logo @}
        {@ product_pdf_download @}
        
<section class="select-wrapper" id="version-select-wrapper">
    <!-- Empty locator section for version selector -->
</section>

        <h3 id="toctree-heading"><a href="">Contents</a></h3>
        

<ul class="toctree" id="toctree">


<li class="toctree-l1">
    <a class="reference internal" href="../../index.html">Welcome</a>




<li class="toctree-l1">
    
    <a class="reference internal" href="../">Setting up</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../index.html">Setting up: Overview</a>




<li class="toctree-l2">
    
    <a class="reference internal" href="./">Server</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="index.html">Setting up PMM Server</a>




<li class="toctree-l3">
    <a class="reference internal" href="docker.html">Docker</a>




<li class="toctree-l3">
    <a class="reference internal" href="virtual-appliance.html">Virtual Appliance</a>




<li class="toctree-l3">
    <a class="reference internal" href="aws.html">AWS Marketplace</a>



</ul>





<li class="toctree-l2">
    
    <a class="reference internal" href="../client">Client</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../client/index.html">Setting up PMM Clients</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/docker.html">Docker</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/mysql.html">MySQL</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/percona-server.html">Percona Server</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/mongodb.html">MongoDB</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/postgresql.html">PostgreSQL</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/proxysql.html">ProxySQL</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/aws.html">Amazon RDS</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/linux.html">Linux</a>




<li class="toctree-l3">
    <a class="reference internal" href="../client/external.html">External Services</a>



</ul>




</ul>





<li class="toctree-l1">
    
    <a class="reference internal" href="../../using/">Using</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../../using/index.html">Using: Overview</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../using/interface.html">User Interface</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../using/alerting.html">Integrated Alerting</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../using/query-analytics.html">Query Analytics</a>




<li class="toctree-l2">
    
    <a class="reference internal" href="../../using/platform/">Percona Enterprise Platform</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../../using/platform/index.html">About Percona Enterprise Platform</a>




<li class="toctree-l3">
    <a class="reference internal" href="../../using/platform/security-threat-tool.html">Security Threat Tool</a>



</ul>




</ul>





<li class="toctree-l1">
    
    <a class="reference internal" href="../../how-to/">How to</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../../how-to/index.html">How to: Overview</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../how-to/configure.html">Configure</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../how-to/upgrade.html">Upgrade</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../how-to/secure.html">Secure</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../how-to/optimize.html">Optimize</a>



</ul>





<li class="toctree-l1">
    
    <a class="reference internal" href="../../details/">Details</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../../details/index.html">Details: Overview</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../details/architecture.html">Architecture</a>




<li class="toctree-l2">
    
    <a class="reference internal" href="../../details/dashboards/">Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../../details/dashboards/index.html">Dashboards Index</a>




<li class="toctree-l3">
    
    <a class="reference internal" href="../..">Insight</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-home.html">Home Dashboard</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-advanced-data-exploration.html">Advanced Data Exploration</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-victoriametrics.html">VictoriaMetrics</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-victoriametrics-agents-overview.html">VictoriaMetrics Agents Overview</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">PMM</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-inventory.html">PMM Inventory</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">OS Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-cpu-utilization-details.html">CPU Utilization Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-disk-details.html">Disk Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-network-details.html">Network Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-memory-details.html">Memory Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-node-temperature-details.html">Node Temperature Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-nodes-compare.html">Nodes Compare</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-nodes-overview.html">Nodes Overview</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-node-summary.html">Node Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-numa-details.html">NUMA Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-processes-details.html">Processes Details</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">Prometheus Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-prometheus-exporter-status.html">Prometheus Exporter Status</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-prometheus-exporters-overview.html">Prometheus Exporters Overview</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">MySQL Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-amazon-aurora-details.html">MySQL Amazon Aurora Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-command-handler-counters-compare.html">MySQL Command/Handler Counters Compare</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-innodb-compression-details.html">MySQL InnoDB Compression Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-innodb-details.html">MySQL InnoDB Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-myisam-aria-details.html">MySQL MyISAM/Aria Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-myrocks-details.html">MySQL MyRocks Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-instance-summary.html">MySQL Instance Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-instances-compare.html">MySQL Instances Compare</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-instances-overview.html">MySQL Instances Overview</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-wait-event-analyses-details.html">MySQL Wait Event Analyses Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-performance-schema-details.html">MySQL Performance Schema Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-query-response-time-details.html">MySQL Query Response Time Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-replication-summary.html">MySQL Replication Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-group-replication-summary.html">MySQL Group Replication Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-table-details.html">MySQL Table Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-user-details.html">MySQL User Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mysql-tokudb-details.html">MySQL TokuDB Details</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">MongoDB Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-cluster-summary.html">MongoDB Cluster Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-instance-summary.html">MongoDB Instance Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-instances-overview.html">MongoDB Instances Overview</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-instances-compare.html">MongoDB Instances Compare</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-replset-summary.html">MongoDB ReplSet Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-inmemory-details.html">MongoDB InMemory Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-mmapv1-details.html">MongoDB MMAPv1 Details</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-mongodb-wiredtiger-details.html">MongoDB WiredTiger Details</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">PostgreSQL Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-postgresql-instances-overview.html">PostgreSQL Instances Overview</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-postgresql-instance-summary.html">PostgreSQL Instance Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-postgresql-instances-compare.html">PostgreSQL Instances Compare</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">ProxySQL Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-proxysql-instance-summary.html">ProxySQL Instance Summary</a>



</ul>





<li class="toctree-l3">
    
    <a class="reference internal" href="../..">HA Dashboards</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-pxc-galera-node-summary.html">PXC/Galera Node Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-pxc-galera-cluster-summary.html">PXC/Galera Cluster Summary</a>




<li class="toctree-l4">
    <a class="reference internal" href="../../details/dashboards/dashboard-pxc-galera-nodes-compare.html">PXC/Galera Nodes Compare</a>



</ul>




</ul>





<li class="toctree-l2">
    
    <a class="reference internal" href="../..">Commands</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../../details/commands/pmm-admin.html">pmm-admin - Administration Tool</a>




<li class="toctree-l3">
    <a class="reference internal" href="../../details/commands/pmm-agent.html">pmm-agent - PMM Client agent</a>



</ul>





<li class="toctree-l2">
    <a class="reference internal" href="../../details/api.html">API</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../details/victoria-metrics.html">VictoriaMetrics</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../details/glossary.html">Glossary</a>



</ul>





<li class="toctree-l1">
    <a class="reference internal" href="../../faq.html">FAQ</a>




<li class="toctree-l1">
    
    <a class="reference internal" href="../../release-notes/">Release Notes</a>
    




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.13.0.html">Percona Monitoring and Management 2.13.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.12.0.html">Percona Monitoring and Management 2.12.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.11.1.html">Percona Monitoring and Management 2.11.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.11.0.html">Percona Monitoring and Management 2.11.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.10.1.html">Percona Monitoring and Management 2.10.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.10.0.html">Percona Monitoring and Management 2.10.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.9.1.html">Percona Monitoring and Management 2.9.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.9.0.html">Percona Monitoring and Management 2.9.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.8.0.html">Percona Monitoring and Management 2.8.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.7.0.html">Percona Monitoring and Management 2.7.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.6.1.html">Percona Monitoring and Management 2.6.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.6.0.html">Percona Monitoring and Management 2.6.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.5.0.html">Percona Monitoring and Management 2.5.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.4.0.html">Percona Monitoring and Management 2.4.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.3.0.html">Percona Monitoring and Management 2.3.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.2.2.html">Percona Monitoring and Management 2.2.2</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.2.1.html">Percona Monitoring and Management 2.2.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.2.0.html">Percona Monitoring and Management 2.2.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.1.0.html">Percona Monitoring and Management 2.1.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.0.1.html">Percona Monitoring and Management 2.0.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../../release-notes/2.0.0.html">Percona Monitoring and Management 2.0.0</a>



</ul>




</ul>


        



        {@ product_series @}
    </div>
</div>

            <div class="clearer"></div>
        </div>
    </div>
</body>